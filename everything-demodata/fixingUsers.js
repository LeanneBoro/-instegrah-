export const users = [{
    "_id": {
      "$oid": "66be81f0a1530646e953b2b7"
    },
    "fullname": "Peter Brown",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/5.jpg",
    "username": "peter_brown_thegreat"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2b8"
    },
    "fullname": "Laura Smith",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/6.jpg",
    "username": "laura_smith91"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2b9"
    },
    "fullname": "John Doe",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/7.jpg",
    "username": "johnny_doe"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2ba"
    },
    "fullname": "Emily Johnson",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/7.jpg",
    "username": "emily_j"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2bb"
    },
    "fullname": "Michael Davis",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/8.jpg",
    "username": "mike_davis"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2bc"
    },
    "fullname": "Jessica Williams",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/8.jpg",
    "username": "jessica_w"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2bd"
    },
    "fullname": "Daniel Brown",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/9.jpg",
    "username": "dan_brown"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2be"
    },
    "fullname": "Sarah Miller",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/9.jpg",
    "username": "sarah_m"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2bf"
    },
    "fullname": "David Wilson",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/10.jpg",
    "username": "david_w"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c0"
    },
    "fullname": "Olivia Moore",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/10.jpg",
    "username": "liv_moore"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c1"
    },
    "fullname": "James Taylor",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/11.jpg",
    "username": "j_taylor"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c2"
    },
    "fullname": "Sophia Anderson",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/11.jpg",
    "username": "sophie_anderson"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c3"
    },
    "fullname": "William Thomas",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/12.jpg",
    "username": "will_thomas"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c4"
    },
    "fullname": "Ava Jackson",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/12.jpg",
    "username": "ava_j"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c5"
    },
    "fullname": "Lucas Harris",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/13.jpg",
    "username": "lucas_the_legend"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c6"
    },
    "fullname": "Mia Martin",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/13.jpg",
    "username": "mia_martin_21"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c7"
    },
    "fullname": "Ethan Thompson",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/14.jpg",
    "username": "ethan_t"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c8"
    },
    "fullname": "Isabella White",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/14.jpg",
    "username": "isabella_white"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2c9"
    },
    "fullname": "Alexander Scott",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/15.jpg",
    "username": "alex_scott"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2ca"
    },
    "fullname": "Charlotte King",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/15.jpg",
    "username": "charlotte_king"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2cb"
    },
    "fullname": "Benjamin Lee",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/16.jpg",
    "username": "ben_lee"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2cc"
    },
    "fullname": "Amelia Green",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/16.jpg",
    "username": "amelia_green"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2cd"
    },
    "fullname": "Oliver Adams",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/17.jpg",
    "username": "oliver_a"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2ce"
    },
    "fullname": "Harper Nelson",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/17.jpg",
    "username": "harper_nelson"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2cf"
    },
    "fullname": "Liam Carter",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/18.jpg",
    "username": "liam_carter"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2d0"
    },
    "fullname": "Evelyn Roberts",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/18.jpg",
    "username": "evelyn_r"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2d1"
    },
    "fullname": "Jackson Clark",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/19.jpg",
    "username": "jackson_clark"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2d2"
    },
    "fullname": "Mia Rodriguez",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/19.jpg",
    "username": "mia_r"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2d3"
    },
    "fullname": "Elijah Lewis",
    "gender": "male",
    "profileImg": "https://randomuser.me/api/portraits/men/20.jpg",
    "username": "elijah_lewis"
  },
  {
    "_id": {
      "$oid": "66be81f0a1530646e953b2d4"
    },
    "fullname": "Zoe Scott",
    "gender": "female",
    "profileImg": "https://randomuser.me/api/portraits/women/20.jpg",
    "username": "zoe_scott"
  }]


  export function addFollowingAndFollowers(users) {
    // Function to get a random integer between min (inclusive) and max (inclusive)
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
  
    // Create an array of user IDs from the users list
    const userIds = users.map(user => user._id.$oid);
  
    // Add following and followers to each user
    users.forEach(user => {
      const userId = user._id.$oid;
  
      // Generate a unique set of user IDs for following and followers
      const followingSet = new Set();
      const followersSet = new Set();
  
      while (followingSet.size < getRandomInt(3, 15)) {
        const randomId = userIds[Math.floor(Math.random() * userIds.length)];
        if (randomId !== userId) followingSet.add(randomId);
      }
  
      while (followersSet.size < getRandomInt(3, 15)) {
        const randomId = userIds[Math.floor(Math.random() * userIds.length)];
        if (randomId !== userId) followersSet.add(randomId);
      }
  
      // Assign following and followers to the user
      user.following = Array.from(followingSet);
      user.followers = Array.from(followersSet);
    });
  
    return users;
  }

  import { writeFile } from 'fs/promises';
export async function saveUsersToFile() {
    try {
        const updatedUsers = addFollowingAndFollowers(users); // Update the users
        const filePath = './updatedUsers.json'; // Specify the file path

        // Write the updated user data to the JSON file
        await writeFile(filePath, JSON.stringify(updatedUsers, null, 2), 'utf8');

        console.log('Users have been saved to updatedUsers.json');
    } catch (error) {
        console.error('Error writing to file:', error);
    }
}

// Execute the function
saveUsersToFile();